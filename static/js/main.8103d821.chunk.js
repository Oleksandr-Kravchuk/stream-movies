(this["webpackJsonpstream-movies"]=this["webpackJsonpstream-movies"]||[]).push([[0],{12:function(e,t,n){e.exports={nav:"Navigation_nav__2zjCY",navBar:"Navigation_navBar__2Ur4a",navLogo:"Navigation_navLogo__1rl-o",navLink:"Navigation_navLink__1tWmU",active:"Navigation_active__U5W4s",hidden:"Navigation_hidden__1AS7C",visible:"Navigation_visible__2JQZp"}},27:function(e,t,n){e.exports={cast:"MovieCast_cast__1gtUA",card:"MovieCast_card__3e_6k",body:"MovieCast_body__23nt6",role:"MovieCast_role__3njMG"}},35:function(e,t,n){e.exports={movie:"AboutMovie_movie__BvNf2",body:"AboutMovie_body__2MDOu"}},52:function(e,t,n){e.exports={filter:"Filter_filter__2mbF3"}},53:function(e,t,n){e.exports={movie:"MoviePage_movie__cpDdV"}},54:function(e,t,n){e.exports={header:"Header_header__1o6iq"}},60:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(28),c=n.n(r),s=(n(60),n(13)),i=n(6),o=n(95),u=n(10),l=n(7),j=n.n(l),d=n(11),b=n(2),O=n(14),m=n.n(O),f=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows?page=1");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows/".concat(t,"/cast"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p="http://localhost:8080/api/auth/",x={register:function(e,t,n,a){return m.a.post(p+"register",{user:{username:e,age:t,email:n,password:a}})},login:function(e,t){return m.a.post(p+"login",{email:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("stream-movie-user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("stream-movie-user")}},g=function(){var e=JSON.parse(localStorage.getItem("stream-movie-user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}},N="http://localhost:8080/api/users/",y={getUserProfile:function(){return m.a.get(N+"me",{headers:g()})},updateUserProfile:function(e){return m.a.patch(N+"me",e,{headers:g()})},addMovie:function(e){return m.a.patch(N+"me/addMovie",{movie:e},{headers:g()})},getFavorite:function(){return m.a.get(N+"me/favorite",{headers:g()})},removeMovie:function(e){return m.a.patch(N+"me/removeMovie",{movieId:e},{headers:g()})},getFriends:function(){return m.a.get(N+"findUsers",{headers:g()})},getUserFriends:function(){return m.a.get(N+"me/friends",{headers:g()})},addFriend:function(e){return m.a.patch(N+"me/addFriend",{friendId:e},{headers:g()})},removeFriend:function(e){return m.a.patch(N+"me/removeFriend",{friendId:e},{headers:g()})}},w="REGISTER_SUCCESS",_="REGISTER_FAIL",L="LOGIN_SUCCESS",S="LOGIN_FAIL",F="LOGOUT",C="SET_MESSAGE",k="CLEAR_MESSAGE",E="SET_USER_PROFILE",M="SET_FAVORITE_MOVIES",I="LOADING",A="SET_ALL_MOVIES",U="SET_ALL_USERS",P="SET_FRIENDS",T=JSON.parse(localStorage.getItem("stream-movie-user")),G={allMovies:[],isLoading:!1,isLoggedIn:!!T,user:T||null,message:"",favoriteMovies:[],userProfile:{},userFriends:[],allUsers:[]},R=function(e){return{type:C,payload:e}},q=function(){return{type:k}},B=function(e){return{type:I,payload:e}},D=function(e){return{type:M,payload:e}},z=function(e){return{type:E,payload:e}},J=function(e){return{type:P,payload:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload});case A:return Object(b.a)(Object(b.a)({},e),{},{allMovies:t.payload});case M:return Object(b.a)(Object(b.a)({},e),{},{favoriteMovies:t.payload});case E:return Object(b.a)(Object(b.a)({},e),{},{userProfile:t.payload});case P:return Object(b.a)(Object(b.a)({},e),{},{userFriends:t.payload});case U:return Object(b.a)(Object(b.a)({},e),{},{allUsers:t.payload});case C:return Object(b.a)(Object(b.a)({},e),{},{message:t.payload});case k:return Object(b.a)(Object(b.a)({},e),{},{message:""});case w:case _:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1});case L:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!0,user:t.payload.user});case S:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,user:null});case F:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,user:null,userProfile:null});default:return e}},V=n(23),Y=n(9),H=n(93),Q=n(49),Z=n(98),K=n(92),X=n(0),$=function(e){var t,n=e.movie,a=e.isFavorite,r=Object(i.b)(),c=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.addMovie(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(X.jsx)(Q.a,{className:"mb-4",children:Object(X.jsxs)(Z.a,{className:"border-0",children:[Object(X.jsx)(Z.a.Img,{variant:"top",src:null===(t=n.image)||void 0===t?void 0:t.medium}),Object(X.jsxs)(Z.a.Body,{children:[Object(X.jsx)(Z.a.Title,{className:"fs-3 fw-bold",children:n.name}),Object(X.jsx)(Z.a.Text,{className:"fst-italic",children:n.genres.length?n.genres.join(", "):"Genre not defined"}),Object(X.jsxs)(Z.a.Text,{className:"fw-bold",children:[Object(X.jsx)("i",{className:"bi bi-star-fill text-warning me-2"}),n.rating.average?n.rating.average:"Rating not defined"]}),Object(X.jsxs)(Z.a.Text,{className:"fst-normal",children:["Language: ",n.language]})]}),Object(X.jsxs)(Z.a.Footer,{className:"d-flex flex-column",children:[a?Object(X.jsxs)(K.a,{className:"btn-danger mb-2",onClick:function(){var e;r((e=n.id,function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.removeMovie(e);case 2:a=t.sent,n(D(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(X.jsx)("i",{className:"bi bi-trash me-2"}),"Remove from Favorite"]}):Object(X.jsxs)(K.a,{className:"btn-warning mb-2",onClick:c,children:[Object(X.jsx)("i",{className:"bi bi-suit-heart-fill me-2"}),"Add to Favorite"]}),Object(X.jsxs)(s.b,{className:"btn btn-info",to:"/about/".concat(n.id),children:[Object(X.jsx)("i",{className:"bi bi-info-circle-fill me-2"}),"About Movie"]})]})]})})},ee=function(e){var t=e.movies,n=e.isFavorite;return Object(X.jsx)(H.a,{xs:1,sm:2,md:3,children:t.map((function(e){return Object(X.jsx)($,{movie:e,isFavorite:n},e.id)}))})},te=n(96),ne=function(e){var t=e.totalPage,n=e.changePage,a=e.active,r=function(e){for(var t=[],r=function(e){var r=Object(X.jsx)(te.a.Item,{number:e,active:e===a,onClick:function(){return n(e)},children:e},e);t.push(r)},c=1;c<=e;c++)r(c);var s=t.find((function(e){return e.props.active}));return s?t.filter((function(t){var n=s.props.number-3,a=s.props.number+3,r=a-e>0?n-(a-e)+1:n,c=n<0?a-n:a;return t.props.number>r&&t.props.number<c})):t}(t);return Object(X.jsx)(te.a,{className:"justify-content-end flex-wrap",children:r})},ae=n(94),re=function(){return Object(X.jsx)(ae.a,{animation:"border",size:"lg",variant:"primary",children:Object(X.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},ce=function(){var e=Object(i.c)((function(e){return e.favoriteMovies})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)(),r=Object(a.useState)(1),c=Object(Y.a)(r,2),s=c[0],o=c[1],u=Object(a.useState)([]),l=Object(Y.a)(u,2),b=l[0],O=l[1];Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0)),e.next=3,y.getFavorite();case 3:n=e.sent,t(D(n.data)),t(B(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){O(Object(V.a)(e.slice(12*(s-1),12*s)))}),[e,s]);return Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{className:"d-flex justify-content-end sticky-top",children:Object(X.jsx)(ne,{changePage:function(e){o(e)},totalPage:Math.ceil(e.length/12),active:s})}),t?Object(X.jsx)(re,{}):e.length?Object(X.jsx)(ee,{movies:b,isFavorite:!0}):Object(X.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})]})},se=n(52),ie=n.n(se),oe=function(e){var t=e.options,n=e.filter,a=e.setFilter;return Object(X.jsxs)("div",{className:ie.a.filter,children:[Object(X.jsxs)("select",{value:n.sort,onChange:function(e){a(Object(b.a)(Object(b.a)({},n),{},{sort:e.target.value||""}))},children:[Object(X.jsx)("option",{value:"",children:"All Genres"}),t.map((function(e){return Object(X.jsx)("option",{value:e,children:e},e)}))]}),Object(X.jsx)("input",{value:n.query||"",onChange:function(e){a(Object(b.a)(Object(b.a)({},n),{},{query:e.target.value||""}))},placeholder:"Search by movie name..."})]})},ue=function(){var e=Object(i.c)((function(e){return e.allMovies})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)(),r=Object(a.useState)({query:"",sort:""}),c=Object(Y.a)(r,2),s=c[0],o=c[1],u=Object(a.useState)(1),l=Object(Y.a)(u,2),b=l[0],O=l[1],m=Object(a.useState)([]),h=Object(Y.a)(m,2),v=h[0],p=h[1],x=function(e,t){return Object(a.useMemo)((function(){return t.filter((function(t){return e.sort&&!e.query?t.genres.some((function(t){return t.toLowerCase().includes(e.sort.toLowerCase())})):e.sort||e.query?t.genres.some((function(t){return t.toLowerCase().includes(e.sort.toLowerCase())}))&&t.name.toLowerCase().includes(e.query.toLowerCase()):t}))}),[e,t])}(s,e),g=function(e){var t=e.reduce((function(e,t){return e.push.apply(e,Object(V.a)(t.genres)),e}),[]),n=new Set(t);return Object(V.a)(n).sort()}(e);Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0)),e.next=3,f();case 3:n=e.sent,t({type:A,payload:n}),t(B(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){p(Object(V.a)(x.slice(12*(b-1),12*b)))}),[x,b]);return Object(X.jsxs)("div",{children:[Object(X.jsxs)("div",{className:"d-flex justify-content-between sticky-top",children:[Object(X.jsx)(oe,{filter:s,setFilter:o,options:g}),Object(X.jsx)(ne,{changePage:function(e){O(e)},totalPage:Math.ceil(x.length/12),active:b})]}),t?Object(X.jsx)(re,{}):x.length?Object(X.jsx)(ee,{movies:v,isFavorite:!1}):Object(X.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})]})},le=n(97),je=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.c)((function(e){return e.userProfile})),n=Object(a.useState)((null===t||void 0===t?void 0:t.username)||e.username),r=Object(Y.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)((null===t||void 0===t?void 0:t.age)||e.age),u=Object(Y.a)(o,2),l=u[0],b=u[1],O=Object(a.useState)((null===t||void 0===t?void 0:t.email)||e.email),m=Object(Y.a)(O,2),f=m[0],h=m[1],v=Object(i.b)();Object(a.useEffect)((function(){v(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0)),e.next=3,y.getUserProfile();case 3:n=e.sent,t(z(n.data.user)),t(B(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);return Object(X.jsx)(Z.a,{className:"mx-auto",style:{maxWidth:"400px"},children:Object(X.jsxs)(Z.a.Body,{children:[Object(X.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),Object(X.jsxs)(le.a,{onSubmit:function(e){e.preventDefault(),v(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(B(!0)),t.next=3,y.updateUserProfile(e);case 3:a=t.sent,n(z(a.data.user)),n(B(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({username:c,age:l,email:f}))},children:[Object(X.jsxs)(le.a.Group,{id:"userName",children:[Object(X.jsx)(le.a.Label,{children:"Name"}),Object(X.jsx)(le.a.Control,{type:"text",value:c,onChange:function(e){var t=e.target.value;s(t)},required:!0})]}),Object(X.jsxs)(le.a.Group,{id:"age",children:[Object(X.jsx)(le.a.Label,{children:"Age"}),Object(X.jsx)(le.a.Control,{type:"number",value:l,onChange:function(e){var t=e.target.value;b(t)},required:!0})]}),Object(X.jsxs)(le.a.Group,{id:"email",children:[Object(X.jsx)(le.a.Label,{children:"Email"}),Object(X.jsx)(le.a.Control,{type:"email",value:f,onChange:function(e){var t=e.target.value;h(t)},required:!0})]}),Object(X.jsx)(K.a,{type:"submit",className:"w-100 mt-3",children:"Update"})]})]})})},de=n(35),be=n.n(de),Oe=function(e){var t=e.movie,n=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.addMovie(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(X.jsxs)("div",{className:be.a.movie,children:[Object(X.jsx)("img",{src:t.image.original,alt:t.name}),Object(X.jsxs)("div",{className:be.a.body,children:[Object(X.jsx)("h1",{children:t.name}),Object(X.jsxs)("div",{children:[Object(X.jsxs)("p",{children:["Genres: ",t.genres.length?t.genres.join(" | "):"Genre not defined"]}),Object(X.jsxs)("p",{children:["Show Type: ",t.type]}),Object(X.jsxs)("p",{children:[Object(X.jsx)("i",{className:"bi bi-star-fill text-warning me-2"}),t.rating.average?t.rating.average:"Rating not defined"]}),Object(X.jsxs)("p",{children:["Language: ",t.language]})]}),Object(X.jsx)("p",{children:t.summary.replace(/(<([^>]+)>)/gi,"")}),Object(X.jsx)("p",{children:Object(X.jsx)("a",{href:t.officialSite,children:"Official site"})}),Object(X.jsxs)(K.a,{className:"btn-warning mb-2",onClick:n,children:[Object(X.jsx)("i",{className:"bi bi-suit-heart-fill me-2"}),"Add to Favorite"]})]})]})},me=n(27),fe=n.n(me),he=function(e){var t=e.cast;return Object(X.jsxs)("div",{className:fe.a.cast,children:[Object(X.jsx)("h3",{children:"Cast"}),Object(X.jsx)("ul",{children:t.map((function(e){var t=e.person,n=e.character;return Object(X.jsxs)("li",{className:fe.a.card,children:[Object(X.jsx)("img",{src:t.image.medium,alt:t.name}),Object(X.jsxs)("div",{className:fe.a.body,children:[Object(X.jsx)("h4",{children:t.name}),Object(X.jsxs)("p",{className:fe.a.role,children:[Object(X.jsx)("span",{children:"as"})," ",n.name]})]})]},t.id)}))})]})},ve=n(53),pe=n.n(ve),xe=function(){var e=Object(u.i)().id,t=Object(a.useState)({movie:null,cast:null}),n=Object(Y.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(Y.a)(s,2),o=i[0],l=i[1],b=function(){var t=Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.next=3,h(e);case 3:return n=t.sent,t.next=6,v(e);case 6:a=t.sent,c({movie:n,cast:a}),l(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(X.jsx)(X.Fragment,{children:o?Object(X.jsxs)("div",{className:pe.a.movie,children:[Object(X.jsx)(Oe,{movie:r.movie}),Object(X.jsx)(he,{cast:r.cast})]}):Object(X.jsx)(re,{})})},ge=function(e){var t=e.user,n=e.isFriend,a=Object(i.b)(),r=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.addFriend(t._id);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(X.jsx)(Q.a,{className:"mb-4",children:Object(X.jsxs)(Z.a,{className:"border-0",children:[Object(X.jsxs)(Z.a.Body,{children:[Object(X.jsx)(Z.a.Title,{className:"fs-3 fw-bold",children:t.username}),Object(X.jsxs)(Z.a.Text,{className:"fst-normal",children:["Email: ",t.email]}),Object(X.jsxs)(Z.a.Text,{className:"fst-normal",children:["Age: ",t.age]})]}),Object(X.jsx)(Z.a.Footer,{className:"d-flex flex-column",children:n?Object(X.jsx)(K.a,{className:"btn-danger mb-2",onClick:function(){var e;a((e=t._id,function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.removeFriend(e);case 2:a=t.sent,n(J(a.data.users));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Remove Friend"}):Object(X.jsx)(K.a,{className:"btn-warning mb-2",onClick:r,children:"Add to Friend"})})]})})},Ne=function(e){var t=e.users,n=e.isFriend;return Object(X.jsx)(H.a,{xs:1,sm:2,md:3,children:t.map((function(e){return Object(X.jsx)(ge,{user:e,isFriend:n},e._id)}))})},ye=function(){var e=Object(i.c)((function(e){return e.allUsers})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0)),e.next=3,y.getFriends();case 3:n=e.sent,t((a=n.data.findUsers,{type:U,payload:a})),t(B(!1));case 6:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(X.jsx)("div",{children:t?Object(X.jsx)(re,{}):e.length?Object(X.jsx)(Ne,{users:e,isFriend:!1}):Object(X.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})})},we=function(){var e=Object(i.c)((function(e){return e.userFriends})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0)),e.next=3,y.getUserFriends();case 3:n=e.sent,t(J(n.data.users)),t(B(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(X.jsx)("div",{children:t?Object(X.jsx)(re,{}):e.length?Object(X.jsx)(Ne,{users:e,isFriend:!0}):Object(X.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})})},_e=[{path:"/about/:id",component:xe,exact:!0},{path:"/favorite",component:ce,exact:!0},{path:"/profile",component:je,exact:!0},{path:"/movies",component:ue,exact:!0},{path:"/users",component:ye,exact:!0},{path:"/friends",component:we,exact:!0}],Le=[{path:"/signup",component:function(){var e=Object(u.g)(),t=Object(a.useState)(!1),n=Object(Y.a)(t,2),r=n[0],c=n[1],o=Object(a.useRef)(),l=Object(a.useRef)(),j=Object(a.useRef)(),d=Object(a.useRef)(),b=Object(i.c)((function(e){return e.message})),O=Object(i.b)();return Object(X.jsxs)(Z.a,{className:"mx-auto",style:{maxWidth:"400px"},children:[Object(X.jsxs)(Z.a.Body,{children:[Object(X.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),Object(X.jsxs)(le.a,{onSubmit:function(t){var n,a,r,s;t.preventDefault(),c(!1),O((n=o.current.value,a=l.current.value,r=j.current.value,s=d.current.value,function(e){return x.register(n,a,r,s).then((function(t){return e({type:w}),e(R(t.data.message)),Promise.resolve()}),(function(t){var n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:_}),e(R(n)),Promise.reject()}))})).then((function(){c(!0),setTimeout((function(){e.push("/login")}),1e3)})).catch((function(){c(!1)}))},children:[!r&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(le.a.Group,{id:"userName",children:[Object(X.jsx)(le.a.Label,{children:"User Name"}),Object(X.jsx)(le.a.Control,{type:"text",ref:o,required:!0})]}),Object(X.jsxs)(le.a.Group,{id:"age",children:[Object(X.jsx)(le.a.Label,{children:"Your Age"}),Object(X.jsx)(le.a.Control,{type:"number",ref:l,required:!0})]}),Object(X.jsxs)(le.a.Group,{id:"email",children:[Object(X.jsx)(le.a.Label,{children:"Email"}),Object(X.jsx)(le.a.Control,{type:"email",ref:j,required:!0})]}),Object(X.jsxs)(le.a.Group,{id:"password",children:[Object(X.jsx)(le.a.Label,{children:"Password"}),Object(X.jsx)(le.a.Control,{type:"password",ref:d,required:!0})]}),Object(X.jsx)(K.a,{type:"submit",className:"w-100 mt-3",children:"Sign Up"})]}),b&&Object(X.jsx)("div",{className:"form-group",children:Object(X.jsx)("div",{className:r?"alert alert-success":"alert alert-danger",role:"alert",children:b})})]})]}),Object(X.jsxs)(Z.a.Footer,{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(X.jsx)(s.c,{to:"/login",children:"Log in"})]})]})},exact:!0},{path:"/login",component:function(){var e=Object(a.useRef)(!1),t=Object(u.g)(),n=Object(a.useState)(!1),r=Object(Y.a)(n,2),c=r[0],o=r[1],l=Object(a.useRef)(),j=Object(a.useRef)(),d=Object(i.c)((function(e){return e.message})),b=Object(i.b)();Object(a.useEffect)((function(){return function(){e.current=!0}}),[]);return Object(X.jsxs)(Z.a,{className:"mx-auto",style:{maxWidth:"400px"},children:[Object(X.jsxs)(Z.a.Body,{children:[Object(X.jsx)("h2",{className:"text-center mb-4",children:"Login"}),Object(X.jsxs)(le.a,{onSubmit:function(n){var a,r;n.preventDefault(),o(!1),b((a=l.current.value,r=j.current.value,function(e){return x.login(a,r).then((function(t){return e({type:L,payload:{user:t.user}}),Promise.resolve()}),(function(t){var n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:S}),e(R(n)),Promise.reject()}))})).then((function(){e.current||(o(!0),setTimeout((function(){t.push("/movies")}),1e3))})).catch((function(){e.current||o(!1)}))},children:[!c&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(le.a.Group,{id:"email",children:[Object(X.jsx)(le.a.Label,{children:"Email"}),Object(X.jsx)(le.a.Control,{type:"email",ref:l,required:!0})]}),Object(X.jsxs)(le.a.Group,{id:"password",children:[Object(X.jsx)(le.a.Label,{children:"Password"}),Object(X.jsx)(le.a.Control,{type:"password",ref:j,required:!0})]}),Object(X.jsx)(K.a,{type:"submit",className:"w-100 mt-3",children:"Login"})]}),d&&Object(X.jsx)("div",{className:"form-group",children:Object(X.jsx)("div",{className:c?"alert alert-success":"alert alert-danger",role:"alert",children:d})})]})]}),Object(X.jsxs)(Z.a.Footer,{className:"w-100 text-center mt-2",children:["Don't have an account yet? ",Object(X.jsx)(s.c,{to:"/signup",children:" Register now"})]})]})},exact:!0}],Se=n(12),Fe=n.n(Se),Ce=function(){var e=Object(i.b)(),t=Object(u.h)(),n=Object(u.f)(t.pathname,{path:"/about/:id",exact:!0});return Object(X.jsx)(o.a,{children:Object(X.jsxs)("nav",{className:Fe.a.nav,children:[Object(X.jsx)(s.c,{to:"/movies",className:Fe.a.navLogo,children:"Stream-Movies"}),Object(X.jsxs)("ul",{className:Fe.a.navBar,children:[Object(X.jsx)("li",{className:n?Fe.a.visible:Fe.a.hidden,children:Object(X.jsx)(s.c,{to:t.pathname,className:Fe.a.navLink,activeClassName:Fe.a.active,children:"About"})}),Object(X.jsx)("li",{children:Object(X.jsx)(s.c,{to:"/movies",className:Fe.a.navLink,activeClassName:Fe.a.active,children:"All Movies"})}),Object(X.jsx)("li",{children:Object(X.jsx)(s.c,{to:"/favorite",className:Fe.a.navLink,activeClassName:Fe.a.active,children:"Favorite"})}),Object(X.jsx)("li",{children:Object(X.jsx)(s.c,{to:"/users",className:Fe.a.navLink,activeClassName:Fe.a.active,children:"Users"})}),Object(X.jsx)("li",{children:Object(X.jsx)(s.c,{to:"/friends",className:Fe.a.navLink,activeClassName:Fe.a.active,children:"Friends"})}),Object(X.jsx)("li",{children:Object(X.jsx)(s.c,{to:"/profile",className:Fe.a.navLink,activeClassName:Fe.a.active,children:"Profile"})}),Object(X.jsx)("li",{children:Object(X.jsx)(s.c,{to:"/login",className:Fe.a.navLink,activeClassName:Fe.a.active,onClick:function(){e((function(e){x.logout(),e(q()),e({type:F})}))},children:"Log Out"})})]})]})})},ke=n(54),Ee=n.n(ke),Me=function(){return Object(X.jsx)("header",{className:Ee.a.header,children:Object(X.jsx)(Ce,{})})},Ie=function(){var e=Object(i.c)((function(e){return e.isLoggedIn})),t=Object(u.g)(),n=Object(i.b)();return Object(a.useEffect)((function(){t.listen((function(e){n(q())}))}),[n]),e?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Me,{}),Object(X.jsx)(o.a,{className:"mt-4",children:Object(X.jsxs)(u.d,{children:[_e.map((function(e){return Object(X.jsx)(u.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(X.jsx)(u.a,{to:"/movies"})]})})]}):Object(X.jsx)("div",{className:"pt-5",children:Object(X.jsxs)(u.d,{children:[Le.map((function(e){return Object(X.jsx)(u.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(X.jsx)(u.a,{to:"/signup"})]})})},Ae=n(36),Ue=n(55),Pe=Object(Ae.b)(W,Object(Ae.a)(Ue.a)),Te=function(){return Object(X.jsx)(i.a,{store:Pe,children:Object(X.jsx)(s.a,{children:Object(X.jsx)(Ie,{})})})};n(90);c.a.render(Object(X.jsx)(Te,{}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.8103d821.chunk.js.map