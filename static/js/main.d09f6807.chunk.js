(this["webpackJsonpstream-movies"]=this["webpackJsonpstream-movies"]||[]).push([[0],{12:function(e,t,n){e.exports={nav:"Navigation_nav__2zjCY",navBar:"Navigation_navBar__2Ur4a",navLogo:"Navigation_navLogo__1rl-o",navLink:"Navigation_navLink__1tWmU",active:"Navigation_active__U5W4s",hidden:"Navigation_hidden__1AS7C",visible:"Navigation_visible__2JQZp"}},27:function(e,t,n){e.exports={cast:"MovieCast_cast__1gtUA",card:"MovieCast_card__3e_6k",body:"MovieCast_body__23nt6",role:"MovieCast_role__3njMG"}},35:function(e,t,n){e.exports={movie:"AboutMovie_movie__BvNf2",body:"AboutMovie_body__2MDOu"}},52:function(e,t,n){e.exports={filter:"Filter_filter__2mbF3"}},53:function(e,t,n){e.exports={movie:"MoviePage_movie__cpDdV"}},54:function(e,t,n){e.exports={header:"Header_header__1o6iq"}},60:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(28),c=n.n(r),s=(n(60),n(13)),i=n(6),o=n(95),u=n(10),j=n(7),l=n.n(j),d=n(11),b=n(2),O=n(14),m=n.n(O),f=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows?page=1");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows/".concat(t,"/cast"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={register:function(e,t,n,a){return m.a.post("/api/auth/register",{user:{username:e,age:t,email:n,password:a}})},login:function(e,t){return m.a.post("/api/auth/login",{email:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("stream-movie-user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("stream-movie-user")}},x=function(){var e=JSON.parse(localStorage.getItem("stream-movie-user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}},g={getUserProfile:function(){return m.a.get("/api/users/me",{headers:x()})},updateUserProfile:function(e){return m.a.patch("/api/users/me",e,{headers:x()})},addMovie:function(e){return m.a.patch("/api/users/me/addMovie",{movie:e},{headers:x()})},getFavorite:function(){return m.a.get("/api/users/me/favorite",{headers:x()})},removeMovie:function(e){return m.a.patch("/api/users/me/removeMovie",{movieId:e},{headers:x()})},getFriends:function(){return m.a.get("/api/users/findUsers",{headers:x()})},getUserFriends:function(){return m.a.get("/api/users/me/friends",{headers:x()})},addFriend:function(e){return m.a.patch("/api/users/me/addFriend",{friendId:e},{headers:x()})},removeFriend:function(e){return m.a.patch("/api/users/me/removeFriend",{friendId:e},{headers:x()})}},N="REGISTER_SUCCESS",y="REGISTER_FAIL",w="LOGIN_SUCCESS",_="LOGIN_FAIL",L="LOGOUT",S="SET_MESSAGE",F="CLEAR_MESSAGE",C="SET_USER_PROFILE",k="SET_FAVORITE_MOVIES",E="LOADING",M="SET_ALL_MOVIES",I="SET_ALL_USERS",A="SET_FRIENDS",U=JSON.parse(localStorage.getItem("stream-movie-user")),P={allMovies:[],isLoading:!1,isLoggedIn:!!U,user:U||null,message:"",favoriteMovies:[],userProfile:{},userFriends:[],allUsers:[]},T=function(e){return{type:S,payload:e}},G=function(){return{type:F}},R=function(e){return{type:E,payload:e}},q=function(e){return{type:k,payload:e}},B=function(e){return{type:C,payload:e}},D=function(e){return{type:A,payload:e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload});case M:return Object(b.a)(Object(b.a)({},e),{},{allMovies:t.payload});case k:return Object(b.a)(Object(b.a)({},e),{},{favoriteMovies:t.payload});case C:return Object(b.a)(Object(b.a)({},e),{},{userProfile:t.payload});case A:return Object(b.a)(Object(b.a)({},e),{},{userFriends:t.payload});case I:return Object(b.a)(Object(b.a)({},e),{},{allUsers:t.payload});case S:return Object(b.a)(Object(b.a)({},e),{},{message:t.payload});case F:return Object(b.a)(Object(b.a)({},e),{},{message:""});case N:case y:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1});case w:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!0,user:t.payload.user});case _:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,user:null});case L:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,user:null,userProfile:null});default:return e}},J=n(23),W=n(9),V=n(93),Y=n(49),H=n(98),Q=n(92),Z=n(0),K=function(e){var t,n=e.movie,a=e.isFavorite,r=Object(i.b)(),c=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.addMovie(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsx)(Y.a,{className:"mb-4",children:Object(Z.jsxs)(H.a,{className:"border-0",children:[Object(Z.jsx)(H.a.Img,{variant:"top",src:null===(t=n.image)||void 0===t?void 0:t.medium}),Object(Z.jsxs)(H.a.Body,{children:[Object(Z.jsx)(H.a.Title,{className:"fs-3 fw-bold",children:n.name}),Object(Z.jsx)(H.a.Text,{className:"fst-italic",children:n.genres.length?n.genres.join(", "):"Genre not defined"}),Object(Z.jsxs)(H.a.Text,{className:"fw-bold",children:[Object(Z.jsx)("i",{className:"bi bi-star-fill text-warning me-2"}),n.rating.average?n.rating.average:"Rating not defined"]}),Object(Z.jsxs)(H.a.Text,{className:"fst-normal",children:["Language: ",n.language]})]}),Object(Z.jsxs)(H.a.Footer,{className:"d-flex flex-column",children:[a?Object(Z.jsxs)(Q.a,{className:"btn-danger mb-2",onClick:function(){var e;r((e=n.id,function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.removeMovie(e);case 2:a=t.sent,n(q(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(Z.jsx)("i",{className:"bi bi-trash me-2"}),"Remove from Favorite"]}):Object(Z.jsxs)(Q.a,{className:"btn-warning mb-2",onClick:c,children:[Object(Z.jsx)("i",{className:"bi bi-suit-heart-fill me-2"}),"Add to Favorite"]}),Object(Z.jsxs)(s.b,{className:"btn btn-info",to:"/about/".concat(n.id),children:[Object(Z.jsx)("i",{className:"bi bi-info-circle-fill me-2"}),"About Movie"]})]})]})})},X=function(e){var t=e.movies,n=e.isFavorite;return Object(Z.jsx)(V.a,{xs:1,sm:2,md:3,children:t.map((function(e){return Object(Z.jsx)(K,{movie:e,isFavorite:n},e.id)}))})},$=n(96),ee=function(e){var t=e.totalPage,n=e.changePage,a=e.active,r=function(e){for(var t=[],r=function(e){var r=Object(Z.jsx)($.a.Item,{number:e,active:e===a,onClick:function(){return n(e)},children:e},e);t.push(r)},c=1;c<=e;c++)r(c);var s=t.find((function(e){return e.props.active}));return s?t.filter((function(t){var n=s.props.number-3,a=s.props.number+3,r=a-e>0?n-(a-e)+1:n,c=n<0?a-n:a;return t.props.number>r&&t.props.number<c})):t}(t);return Object(Z.jsx)($.a,{className:"justify-content-end flex-wrap",children:r})},te=n(94),ne=function(){return Object(Z.jsx)(te.a,{animation:"border",size:"lg",variant:"primary",children:Object(Z.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},ae=function(){var e=Object(i.c)((function(e){return e.favoriteMovies})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)(),r=Object(a.useState)(1),c=Object(W.a)(r,2),s=c[0],o=c[1],u=Object(a.useState)([]),j=Object(W.a)(u,2),b=j[0],O=j[1];Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,g.getFavorite();case 3:n=e.sent,t(q(n.data)),t(R(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){O(Object(J.a)(e.slice(12*(s-1),12*s)))}),[e,s]);return Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{className:"d-flex justify-content-end sticky-top",children:Object(Z.jsx)(ee,{changePage:function(e){o(e)},totalPage:Math.ceil(e.length/12),active:s})}),t?Object(Z.jsx)(ne,{}):e.length?Object(Z.jsx)(X,{movies:b,isFavorite:!0}):Object(Z.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})]})},re=n(52),ce=n.n(re),se=function(e){var t=e.options,n=e.filter,a=e.setFilter;return Object(Z.jsxs)("div",{className:ce.a.filter,children:[Object(Z.jsxs)("select",{value:n.sort,onChange:function(e){a(Object(b.a)(Object(b.a)({},n),{},{sort:e.target.value||""}))},children:[Object(Z.jsx)("option",{value:"",children:"All Genres"}),t.map((function(e){return Object(Z.jsx)("option",{value:e,children:e},e)}))]}),Object(Z.jsx)("input",{value:n.query||"",onChange:function(e){a(Object(b.a)(Object(b.a)({},n),{},{query:e.target.value||""}))},placeholder:"Search by movie name..."})]})},ie=function(){var e=Object(i.c)((function(e){return e.allMovies})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)(),r=Object(a.useState)({query:"",sort:""}),c=Object(W.a)(r,2),s=c[0],o=c[1],u=Object(a.useState)(1),j=Object(W.a)(u,2),b=j[0],O=j[1],m=Object(a.useState)([]),p=Object(W.a)(m,2),h=p[0],v=p[1],x=function(e,t){return Object(a.useMemo)((function(){return t.filter((function(t){return e.sort&&!e.query?t.genres.some((function(t){return t.toLowerCase().includes(e.sort.toLowerCase())})):e.sort||e.query?t.genres.some((function(t){return t.toLowerCase().includes(e.sort.toLowerCase())}))&&t.name.toLowerCase().includes(e.query.toLowerCase()):t}))}),[e,t])}(s,e),g=function(e){var t=e.reduce((function(e,t){return e.push.apply(e,Object(J.a)(t.genres)),e}),[]),n=new Set(t);return Object(J.a)(n).sort()}(e);Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,f();case 3:n=e.sent,t({type:M,payload:n}),t(R(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){v(Object(J.a)(x.slice(12*(b-1),12*b)))}),[x,b]);return Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("div",{className:"d-flex justify-content-between sticky-top mb-4",children:[Object(Z.jsx)(se,{filter:s,setFilter:o,options:g}),Object(Z.jsx)(ee,{changePage:function(e){O(e)},totalPage:Math.ceil(x.length/12),active:b})]}),t?Object(Z.jsx)(ne,{}):x.length?Object(Z.jsx)(X,{movies:h,isFavorite:!1}):Object(Z.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})]})},oe=n(97),ue=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.c)((function(e){return e.userProfile})),n=Object(a.useState)((null===t||void 0===t?void 0:t.username)||e.username),r=Object(W.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)((null===t||void 0===t?void 0:t.age)||e.age),u=Object(W.a)(o,2),j=u[0],b=u[1],O=Object(a.useState)((null===t||void 0===t?void 0:t.email)||e.email),m=Object(W.a)(O,2),f=m[0],p=m[1],h=Object(i.b)();Object(a.useEffect)((function(){h(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,g.getUserProfile();case 3:n=e.sent,t(B(n.data.user)),t(R(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);return Object(Z.jsx)(H.a,{className:"mx-auto",style:{maxWidth:"400px"},children:Object(Z.jsxs)(H.a.Body,{children:[Object(Z.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),Object(Z.jsxs)(oe.a,{onSubmit:function(e){e.preventDefault(),h(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(R(!0)),t.next=3,g.updateUserProfile(e);case 3:a=t.sent,n(B(a.data.user)),n(R(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({username:c,age:j,email:f}))},children:[Object(Z.jsxs)(oe.a.Group,{id:"userName",children:[Object(Z.jsx)(oe.a.Label,{children:"Name"}),Object(Z.jsx)(oe.a.Control,{type:"text",value:c,onChange:function(e){var t=e.target.value;s(t)},required:!0})]}),Object(Z.jsxs)(oe.a.Group,{id:"age",children:[Object(Z.jsx)(oe.a.Label,{children:"Age"}),Object(Z.jsx)(oe.a.Control,{type:"number",value:j,onChange:function(e){var t=e.target.value;b(t)},required:!0})]}),Object(Z.jsxs)(oe.a.Group,{id:"email",children:[Object(Z.jsx)(oe.a.Label,{children:"Email"}),Object(Z.jsx)(oe.a.Control,{type:"email",value:f,onChange:function(e){var t=e.target.value;p(t)},required:!0})]}),Object(Z.jsx)(Q.a,{type:"submit",className:"w-100 mt-3",children:"Update"})]})]})})},je=n(35),le=n.n(je),de=function(e){var t=e.movie,n=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.addMovie(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsxs)("div",{className:le.a.movie,children:[Object(Z.jsx)("img",{src:t.image.original,alt:t.name}),Object(Z.jsxs)("div",{className:le.a.body,children:[Object(Z.jsx)("h1",{children:t.name}),Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("p",{children:["Genres: ",t.genres.length?t.genres.join(" | "):"Genre not defined"]}),Object(Z.jsxs)("p",{children:["Show Type: ",t.type]}),Object(Z.jsxs)("p",{children:[Object(Z.jsx)("i",{className:"bi bi-star-fill text-warning me-2"}),t.rating.average?t.rating.average:"Rating not defined"]}),Object(Z.jsxs)("p",{children:["Language: ",t.language]})]}),Object(Z.jsx)("p",{children:t.summary.replace(/(<([^>]+)>)/gi,"")}),Object(Z.jsx)("p",{children:Object(Z.jsx)("a",{href:t.officialSite,children:"Official site"})}),Object(Z.jsxs)(Q.a,{className:"btn-warning mb-2",onClick:n,children:[Object(Z.jsx)("i",{className:"bi bi-suit-heart-fill me-2"}),"Add to Favorite"]})]})]})},be=n(27),Oe=n.n(be),me=function(e){var t=e.cast;return Object(Z.jsxs)("div",{className:Oe.a.cast,children:[Object(Z.jsx)("h3",{children:"Cast"}),Object(Z.jsx)("ul",{children:t.map((function(e){var t=e.person,n=e.character;return Object(Z.jsxs)("li",{className:Oe.a.card,children:[Object(Z.jsx)("img",{src:t.image.medium,alt:t.name}),Object(Z.jsxs)("div",{className:Oe.a.body,children:[Object(Z.jsx)("h4",{children:t.name}),Object(Z.jsxs)("p",{className:Oe.a.role,children:[Object(Z.jsx)("span",{children:"as"})," ",n.name]})]})]},t.id)}))})]})},fe=n(53),pe=n.n(fe),he=function(){var e=Object(u.i)().id,t=Object(a.useState)({movie:null,cast:null}),n=Object(W.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(W.a)(s,2),o=i[0],j=i[1],b=function(){var t=Object(d.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!1),t.next=3,p(e);case 3:return n=t.sent,t.next=6,h(e);case 6:a=t.sent,c({movie:n,cast:a}),j(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(Z.jsx)(Z.Fragment,{children:o?Object(Z.jsxs)("div",{className:pe.a.movie,children:[Object(Z.jsx)(de,{movie:r.movie}),Object(Z.jsx)(me,{cast:r.cast})]}):Object(Z.jsx)(ne,{})})},ve=function(e){var t=e.user,n=e.isFriend,a=Object(i.b)(),r=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.addFriend(t._id);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsx)(Y.a,{className:"mb-4",children:Object(Z.jsxs)(H.a,{className:"border-0",children:[Object(Z.jsxs)(H.a.Body,{children:[Object(Z.jsx)(H.a.Title,{className:"fs-3 fw-bold",children:t.username}),Object(Z.jsxs)(H.a.Text,{className:"fst-normal",children:["Email: ",t.email]}),Object(Z.jsxs)(H.a.Text,{className:"fst-normal",children:["Age: ",t.age]})]}),Object(Z.jsx)(H.a.Footer,{className:"d-flex flex-column",children:n?Object(Z.jsx)(Q.a,{className:"btn-danger mb-2",onClick:function(){var e;a((e=t._id,function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.removeFriend(e);case 2:a=t.sent,n(D(a.data.users));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Remove Friend"}):Object(Z.jsx)(Q.a,{className:"btn-warning mb-2",onClick:r,children:"Add to Friend"})})]})})},xe=function(e){var t=e.users,n=e.isFriend;return Object(Z.jsx)(V.a,{xs:1,sm:2,md:3,children:t.map((function(e){return Object(Z.jsx)(ve,{user:e,isFriend:n},e._id)}))})},ge=function(){var e=Object(i.c)((function(e){return e.allUsers})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,g.getFriends();case 3:n=e.sent,t((a=n.data.findUsers,{type:I,payload:a})),t(R(!1));case 6:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(Z.jsx)("div",{children:t?Object(Z.jsx)(ne,{}):e.length?Object(Z.jsx)(xe,{users:e,isFriend:!1}):Object(Z.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})})},Ne=function(){var e=Object(i.c)((function(e){return e.userFriends})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,g.getUserFriends();case 3:n=e.sent,t(D(n.data.users)),t(R(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(Z.jsx)("div",{children:t?Object(Z.jsx)(ne,{}):e.length?Object(Z.jsx)(xe,{users:e,isFriend:!0}):Object(Z.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})})},ye=[{path:"/about/:id",component:he,exact:!0},{path:"/favorite",component:ae,exact:!0},{path:"/profile",component:ue,exact:!0},{path:"/movies",component:ie,exact:!0},{path:"/users",component:ge,exact:!0},{path:"/friends",component:Ne,exact:!0}],we=[{path:"/signup",component:function(){var e=Object(u.g)(),t=Object(a.useState)(!1),n=Object(W.a)(t,2),r=n[0],c=n[1],o=Object(a.useRef)(),j=Object(a.useRef)(),l=Object(a.useRef)(),d=Object(a.useRef)(),b=Object(i.c)((function(e){return e.message})),O=Object(i.b)();return Object(Z.jsxs)(H.a,{className:"mx-auto",style:{maxWidth:"400px"},children:[Object(Z.jsxs)(H.a.Body,{children:[Object(Z.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),Object(Z.jsxs)(oe.a,{onSubmit:function(t){var n,a,r,s;t.preventDefault(),c(!1),O((n=o.current.value,a=j.current.value,r=l.current.value,s=d.current.value,function(e){return v.register(n,a,r,s).then((function(t){return e({type:N}),e(T(t.data.message)),Promise.resolve()}),(function(t){var n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:y}),e(T(n)),Promise.reject()}))})).then((function(){c(!0),setTimeout((function(){e.push("/login")}),1e3)})).catch((function(){c(!1)}))},children:[!r&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(oe.a.Group,{id:"userName",children:[Object(Z.jsx)(oe.a.Label,{children:"User Name"}),Object(Z.jsx)(oe.a.Control,{type:"text",ref:o,required:!0})]}),Object(Z.jsxs)(oe.a.Group,{id:"age",children:[Object(Z.jsx)(oe.a.Label,{children:"Your Age"}),Object(Z.jsx)(oe.a.Control,{type:"number",ref:j,required:!0})]}),Object(Z.jsxs)(oe.a.Group,{id:"email",children:[Object(Z.jsx)(oe.a.Label,{children:"Email"}),Object(Z.jsx)(oe.a.Control,{type:"email",ref:l,required:!0})]}),Object(Z.jsxs)(oe.a.Group,{id:"password",children:[Object(Z.jsx)(oe.a.Label,{children:"Password"}),Object(Z.jsx)(oe.a.Control,{type:"password",ref:d,required:!0})]}),Object(Z.jsx)(Q.a,{type:"submit",className:"w-100 mt-3",children:"Sign Up"})]}),b&&Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:r?"alert alert-success":"alert alert-danger",role:"alert",children:b})})]})]}),Object(Z.jsxs)(H.a.Footer,{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(Z.jsx)(s.c,{to:"/login",children:"Log in"})]})]})},exact:!0},{path:"/login",component:function(){var e=Object(a.useRef)(!1),t=Object(u.g)(),n=Object(a.useState)(!1),r=Object(W.a)(n,2),c=r[0],o=r[1],j=Object(a.useRef)(),l=Object(a.useRef)(),d=Object(i.c)((function(e){return e.message})),b=Object(i.b)();Object(a.useEffect)((function(){return function(){e.current=!0}}),[]);return Object(Z.jsxs)(H.a,{className:"mx-auto",style:{maxWidth:"400px"},children:[Object(Z.jsxs)(H.a.Body,{children:[Object(Z.jsx)("h2",{className:"text-center mb-4",children:"Login"}),Object(Z.jsxs)(oe.a,{onSubmit:function(n){var a,r;n.preventDefault(),o(!1),b((a=j.current.value,r=l.current.value,function(e){return v.login(a,r).then((function(t){return e({type:w,payload:{user:t.user}}),Promise.resolve()}),(function(t){var n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:_}),e(T(n)),Promise.reject()}))})).then((function(){e.current||(o(!0),setTimeout((function(){t.push("/movies")}),1e3))})).catch((function(){e.current||o(!1)}))},children:[!c&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(oe.a.Group,{id:"email",children:[Object(Z.jsx)(oe.a.Label,{children:"Email"}),Object(Z.jsx)(oe.a.Control,{type:"email",ref:j,required:!0})]}),Object(Z.jsxs)(oe.a.Group,{id:"password",children:[Object(Z.jsx)(oe.a.Label,{children:"Password"}),Object(Z.jsx)(oe.a.Control,{type:"password",ref:l,required:!0})]}),Object(Z.jsx)(Q.a,{type:"submit",className:"w-100 mt-3",children:"Login"})]}),d&&Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("div",{className:c?"alert alert-success":"alert alert-danger",role:"alert",children:d})})]})]}),Object(Z.jsxs)(H.a.Footer,{className:"w-100 text-center mt-2",children:["Don't have an account yet? ",Object(Z.jsx)(s.c,{to:"/signup",children:" Register now"})]})]})},exact:!0}],_e=n(12),Le=n.n(_e),Se=function(){var e=Object(i.b)(),t=Object(u.h)(),n=Object(u.f)(t.pathname,{path:"/about/:id",exact:!0});return Object(Z.jsx)(o.a,{children:Object(Z.jsxs)("nav",{className:Le.a.nav,children:[Object(Z.jsx)(s.c,{to:"/movies",className:Le.a.navLogo,children:"Stream-Movies"}),Object(Z.jsxs)("ul",{className:Le.a.navBar,children:[Object(Z.jsx)("li",{className:n?Le.a.visible:Le.a.hidden,children:Object(Z.jsx)(s.c,{to:t.pathname,className:Le.a.navLink,activeClassName:Le.a.active,children:"About"})}),Object(Z.jsx)("li",{children:Object(Z.jsx)(s.c,{to:"/movies",className:Le.a.navLink,activeClassName:Le.a.active,children:"All Movies"})}),Object(Z.jsx)("li",{children:Object(Z.jsx)(s.c,{to:"/favorite",className:Le.a.navLink,activeClassName:Le.a.active,children:"Favorite"})}),Object(Z.jsx)("li",{children:Object(Z.jsx)(s.c,{to:"/users",className:Le.a.navLink,activeClassName:Le.a.active,children:"Users"})}),Object(Z.jsx)("li",{children:Object(Z.jsx)(s.c,{to:"/friends",className:Le.a.navLink,activeClassName:Le.a.active,children:"Friends"})}),Object(Z.jsx)("li",{children:Object(Z.jsx)(s.c,{to:"/profile",className:Le.a.navLink,activeClassName:Le.a.active,children:"Profile"})}),Object(Z.jsx)("li",{children:Object(Z.jsx)(s.c,{to:"/login",className:Le.a.navLink,activeClassName:Le.a.active,onClick:function(){e((function(e){v.logout(),e(G()),e({type:L})}))},children:"Log Out"})})]})]})})},Fe=n(54),Ce=n.n(Fe),ke=function(){return Object(Z.jsx)("header",{className:Ce.a.header,children:Object(Z.jsx)(Se,{})})},Ee=function(){var e=Object(i.c)((function(e){return e.isLoggedIn})),t=Object(u.g)(),n=Object(i.b)();return Object(a.useEffect)((function(){t.listen((function(e){n(G())}))}),[n]),e?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ke,{}),Object(Z.jsx)(o.a,{className:"mt-4",children:Object(Z.jsxs)(u.d,{children:[ye.map((function(e){return Object(Z.jsx)(u.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(Z.jsx)(u.a,{to:"/movies"})]})})]}):Object(Z.jsx)("div",{className:"pt-5",children:Object(Z.jsxs)(u.d,{children:[we.map((function(e){return Object(Z.jsx)(u.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(Z.jsx)(u.a,{to:"/signup"})]})})},Me=n(36),Ie=n(55),Ae=Object(Me.b)(z,Object(Me.a)(Ie.a)),Ue=function(){return Object(Z.jsx)(i.a,{store:Ae,children:Object(Z.jsx)(s.a,{children:Object(Z.jsx)(Ee,{})})})};n(90);c.a.render(Object(Z.jsx)(Ue,{}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.d09f6807.chunk.js.map