(this["webpackJsonpstream-movies"]=this["webpackJsonpstream-movies"]||[]).push([[0],{12:function(e,t,n){e.exports={nav:"Navigation_nav__2zjCY",navBar:"Navigation_navBar__2Ur4a",navLogo:"Navigation_navLogo__1rl-o",navLink:"Navigation_navLink__1tWmU",active:"Navigation_active__U5W4s",hidden:"Navigation_hidden__1AS7C",visible:"Navigation_visible__2JQZp"}},27:function(e,t,n){e.exports={cast:"MovieCast_cast__1gtUA",card:"MovieCast_card__3e_6k",body:"MovieCast_body__23nt6",role:"MovieCast_role__3njMG"}},35:function(e,t,n){e.exports={movie:"AboutMovie_movie__BvNf2",body:"AboutMovie_body__2MDOu"}},52:function(e,t,n){e.exports={filter:"Filter_filter__2mbF3"}},53:function(e,t,n){e.exports={movie:"MoviePage_movie__cpDdV"}},54:function(e,t,n){e.exports={header:"Header_header__1o6iq"}},60:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(28),c=n.n(r),s=(n(60),n(13)),i=n(6),o=n(95),u=n(10),l=n(7),j=n.n(l),d=n(11),b=n(2),O=n(14),m=n.n(O),f=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows?page=1");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.tvmaze.com/shows/".concat(t,"/cast"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v="http://localhost:8080",x={register:function(e,t,n,a){return m.a.post(v+"/api/auth/register",{user:{username:e,age:t,email:n,password:a}})},login:function(e,t){return m.a.post(v+"/api/auth/login",{email:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("stream-movie-user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("stream-movie-user")}},g=function(){var e=JSON.parse(localStorage.getItem("stream-movie-user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}},N={getUserProfile:function(){return m.a.get("/api/users/me",{headers:g()})},updateUserProfile:function(e){return m.a.patch("/api/users/me",e,{headers:g()})},addMovie:function(e){return m.a.patch("/api/users/me/addMovie",{movie:e},{headers:g()})},getFavorite:function(){return m.a.get("/api/users/me/favorite",{headers:g()})},removeMovie:function(e){return m.a.patch("/api/users/me/removeMovie",{movieId:e},{headers:g()})},getFriends:function(){return m.a.get("/api/users/findUsers",{headers:g()})},getUserFriends:function(){return m.a.get("/api/users/me/friends",{headers:g()})},addFriend:function(e){return m.a.patch("/api/users/me/addFriend",{friendId:e},{headers:g()})},removeFriend:function(e){return m.a.patch("/api/users/me/removeFriend",{friendId:e},{headers:g()})}},y="REGISTER_SUCCESS",w="REGISTER_FAIL",_="LOGIN_SUCCESS",L="LOGIN_FAIL",S="LOGOUT",F="SET_MESSAGE",C="CLEAR_MESSAGE",k="SET_USER_PROFILE",E="SET_FAVORITE_MOVIES",M="LOADING",I="SET_ALL_MOVIES",A="SET_ALL_USERS",U="SET_FRIENDS",P=JSON.parse(localStorage.getItem("stream-movie-user")),T={allMovies:[],isLoading:!1,isLoggedIn:!!P,user:P||null,message:"",favoriteMovies:[],userProfile:{},userFriends:[],allUsers:[]},G=function(e){return{type:F,payload:e}},R=function(){return{type:C}},q=function(e){return{type:M,payload:e}},B=function(e){return{type:E,payload:e}},D=function(e){return{type:k,payload:e}},z=function(e){return{type:U,payload:e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload});case I:return Object(b.a)(Object(b.a)({},e),{},{allMovies:t.payload});case E:return Object(b.a)(Object(b.a)({},e),{},{favoriteMovies:t.payload});case k:return Object(b.a)(Object(b.a)({},e),{},{userProfile:t.payload});case U:return Object(b.a)(Object(b.a)({},e),{},{userFriends:t.payload});case A:return Object(b.a)(Object(b.a)({},e),{},{allUsers:t.payload});case F:return Object(b.a)(Object(b.a)({},e),{},{message:t.payload});case C:return Object(b.a)(Object(b.a)({},e),{},{message:""});case y:case w:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1});case _:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!0,user:t.payload.user});case L:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,user:null});case S:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,user:null,userProfile:null});default:return e}},W=n(23),V=n(9),Y=n(93),H=n(49),Q=n(98),Z=n(92),K=n(0),X=function(e){var t,n=e.movie,a=e.isFavorite,r=Object(i.b)(),c=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.addMovie(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsx)(H.a,{className:"mb-4",children:Object(K.jsxs)(Q.a,{className:"border-0",children:[Object(K.jsx)(Q.a.Img,{variant:"top",src:null===(t=n.image)||void 0===t?void 0:t.medium}),Object(K.jsxs)(Q.a.Body,{children:[Object(K.jsx)(Q.a.Title,{className:"fs-3 fw-bold",children:n.name}),Object(K.jsx)(Q.a.Text,{className:"fst-italic",children:n.genres.length?n.genres.join(", "):"Genre not defined"}),Object(K.jsxs)(Q.a.Text,{className:"fw-bold",children:[Object(K.jsx)("i",{className:"bi bi-star-fill text-warning me-2"}),n.rating.average?n.rating.average:"Rating not defined"]}),Object(K.jsxs)(Q.a.Text,{className:"fst-normal",children:["Language: ",n.language]})]}),Object(K.jsxs)(Q.a.Footer,{className:"d-flex flex-column",children:[a?Object(K.jsxs)(Z.a,{className:"btn-danger mb-2",onClick:function(){var e;r((e=n.id,function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.removeMovie(e);case 2:a=t.sent,n(B(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(K.jsx)("i",{className:"bi bi-trash me-2"}),"Remove from Favorite"]}):Object(K.jsxs)(Z.a,{className:"btn-warning mb-2",onClick:c,children:[Object(K.jsx)("i",{className:"bi bi-suit-heart-fill me-2"}),"Add to Favorite"]}),Object(K.jsxs)(s.b,{className:"btn btn-info",to:"/about/".concat(n.id),children:[Object(K.jsx)("i",{className:"bi bi-info-circle-fill me-2"}),"About Movie"]})]})]})})},$=function(e){var t=e.movies,n=e.isFavorite;return Object(K.jsx)(Y.a,{xs:1,sm:2,md:3,children:t.map((function(e){return Object(K.jsx)(X,{movie:e,isFavorite:n},e.id)}))})},ee=n(96),te=function(e){var t=e.totalPage,n=e.changePage,a=e.active,r=function(e){for(var t=[],r=function(e){var r=Object(K.jsx)(ee.a.Item,{number:e,active:e===a,onClick:function(){return n(e)},children:e},e);t.push(r)},c=1;c<=e;c++)r(c);var s=t.find((function(e){return e.props.active}));return s?t.filter((function(t){var n=s.props.number-3,a=s.props.number+3,r=a-e>0?n-(a-e)+1:n,c=n<0?a-n:a;return t.props.number>r&&t.props.number<c})):t}(t);return Object(K.jsx)(ee.a,{className:"justify-content-end flex-wrap",children:r})},ne=n(94),ae=function(){return Object(K.jsx)(ne.a,{animation:"border",size:"lg",variant:"primary",children:Object(K.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},re=function(){var e=Object(i.c)((function(e){return e.favoriteMovies})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)(),r=Object(a.useState)(1),c=Object(V.a)(r,2),s=c[0],o=c[1],u=Object(a.useState)([]),l=Object(V.a)(u,2),b=l[0],O=l[1];Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.next=3,N.getFavorite();case 3:n=e.sent,t(B(n.data)),t(q(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){O(Object(W.a)(e.slice(12*(s-1),12*s)))}),[e,s]);return Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{className:"d-flex justify-content-end sticky-top",children:Object(K.jsx)(te,{changePage:function(e){o(e)},totalPage:Math.ceil(e.length/12),active:s})}),t?Object(K.jsx)(ae,{}):e.length?Object(K.jsx)($,{movies:b,isFavorite:!0}):Object(K.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})]})},ce=n(52),se=n.n(ce),ie=function(e){var t=e.options,n=e.filter,a=e.setFilter;return Object(K.jsxs)("div",{className:se.a.filter,children:[Object(K.jsxs)("select",{value:n.sort,onChange:function(e){a(Object(b.a)(Object(b.a)({},n),{},{sort:e.target.value||""}))},children:[Object(K.jsx)("option",{value:"",children:"All Genres"}),t.map((function(e){return Object(K.jsx)("option",{value:e,children:e},e)}))]}),Object(K.jsx)("input",{value:n.query||"",onChange:function(e){a(Object(b.a)(Object(b.a)({},n),{},{query:e.target.value||""}))},placeholder:"Search by movie name..."})]})},oe=function(){var e=Object(i.c)((function(e){return e.allMovies})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)(),r=Object(a.useState)({query:"",sort:""}),c=Object(V.a)(r,2),s=c[0],o=c[1],u=Object(a.useState)(1),l=Object(V.a)(u,2),b=l[0],O=l[1],m=Object(a.useState)([]),p=Object(V.a)(m,2),h=p[0],v=p[1],x=function(e,t){return Object(a.useMemo)((function(){return t.filter((function(t){return e.sort&&!e.query?t.genres.some((function(t){return t.toLowerCase().includes(e.sort.toLowerCase())})):e.sort||e.query?t.genres.some((function(t){return t.toLowerCase().includes(e.sort.toLowerCase())}))&&t.name.toLowerCase().includes(e.query.toLowerCase()):t}))}),[e,t])}(s,e),g=function(e){var t=e.reduce((function(e,t){return e.push.apply(e,Object(W.a)(t.genres)),e}),[]),n=new Set(t);return Object(W.a)(n).sort()}(e);Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.next=3,f();case 3:n=e.sent,t({type:I,payload:n}),t(q(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){v(Object(W.a)(x.slice(12*(b-1),12*b)))}),[x,b]);return Object(K.jsxs)("div",{children:[Object(K.jsxs)("div",{className:"d-flex justify-content-between sticky-top mb-4",children:[Object(K.jsx)(ie,{filter:s,setFilter:o,options:g}),Object(K.jsx)(te,{changePage:function(e){O(e)},totalPage:Math.ceil(x.length/12),active:b})]}),t?Object(K.jsx)(ae,{}):x.length?Object(K.jsx)($,{movies:h,isFavorite:!1}):Object(K.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})]})},ue=n(97),le=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.c)((function(e){return e.userProfile})),n=Object(a.useState)((null===t||void 0===t?void 0:t.username)||e.username),r=Object(V.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)((null===t||void 0===t?void 0:t.age)||e.age),u=Object(V.a)(o,2),l=u[0],b=u[1],O=Object(a.useState)((null===t||void 0===t?void 0:t.email)||e.email),m=Object(V.a)(O,2),f=m[0],p=m[1],h=Object(i.b)();Object(a.useEffect)((function(){h(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.next=3,N.getUserProfile();case 3:n=e.sent,t(D(n.data.user)),t(q(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);return Object(K.jsx)(Q.a,{className:"mx-auto",style:{maxWidth:"400px"},children:Object(K.jsxs)(Q.a.Body,{children:[Object(K.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),Object(K.jsxs)(ue.a,{onSubmit:function(e){e.preventDefault(),h(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(q(!0)),t.next=3,N.updateUserProfile(e);case 3:a=t.sent,n(D(a.data.user)),n(q(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({username:c,age:l,email:f}))},children:[Object(K.jsxs)(ue.a.Group,{id:"userName",children:[Object(K.jsx)(ue.a.Label,{children:"Name"}),Object(K.jsx)(ue.a.Control,{type:"text",value:c,onChange:function(e){var t=e.target.value;s(t)},required:!0})]}),Object(K.jsxs)(ue.a.Group,{id:"age",children:[Object(K.jsx)(ue.a.Label,{children:"Age"}),Object(K.jsx)(ue.a.Control,{type:"number",value:l,onChange:function(e){var t=e.target.value;b(t)},required:!0})]}),Object(K.jsxs)(ue.a.Group,{id:"email",children:[Object(K.jsx)(ue.a.Label,{children:"Email"}),Object(K.jsx)(ue.a.Control,{type:"email",value:f,onChange:function(e){var t=e.target.value;p(t)},required:!0})]}),Object(K.jsx)(Z.a,{type:"submit",className:"w-100 mt-3",children:"Update"})]})]})})},je=n(35),de=n.n(je),be=function(e){var t=e.movie,n=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.addMovie(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)("div",{className:de.a.movie,children:[Object(K.jsx)("img",{src:t.image.original,alt:t.name}),Object(K.jsxs)("div",{className:de.a.body,children:[Object(K.jsx)("h1",{children:t.name}),Object(K.jsxs)("div",{children:[Object(K.jsxs)("p",{children:["Genres: ",t.genres.length?t.genres.join(" | "):"Genre not defined"]}),Object(K.jsxs)("p",{children:["Show Type: ",t.type]}),Object(K.jsxs)("p",{children:[Object(K.jsx)("i",{className:"bi bi-star-fill text-warning me-2"}),t.rating.average?t.rating.average:"Rating not defined"]}),Object(K.jsxs)("p",{children:["Language: ",t.language]})]}),Object(K.jsx)("p",{children:t.summary.replace(/(<([^>]+)>)/gi,"")}),Object(K.jsx)("p",{children:Object(K.jsx)("a",{href:t.officialSite,children:"Official site"})}),Object(K.jsxs)(Z.a,{className:"btn-warning mb-2",onClick:n,children:[Object(K.jsx)("i",{className:"bi bi-suit-heart-fill me-2"}),"Add to Favorite"]})]})]})},Oe=n(27),me=n.n(Oe),fe=function(e){var t=e.cast;return Object(K.jsxs)("div",{className:me.a.cast,children:[Object(K.jsx)("h3",{children:"Cast"}),Object(K.jsx)("ul",{children:t.map((function(e){var t=e.person,n=e.character;return Object(K.jsxs)("li",{className:me.a.card,children:[Object(K.jsx)("img",{src:t.image.medium,alt:t.name}),Object(K.jsxs)("div",{className:me.a.body,children:[Object(K.jsx)("h4",{children:t.name}),Object(K.jsxs)("p",{className:me.a.role,children:[Object(K.jsx)("span",{children:"as"})," ",n.name]})]})]},t.id)}))})]})},pe=n(53),he=n.n(pe),ve=function(){var e=Object(u.i)().id,t=Object(a.useState)({movie:null,cast:null}),n=Object(V.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(V.a)(s,2),o=i[0],l=i[1],b=function(){var t=Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.next=3,p(e);case 3:return n=t.sent,t.next=6,h(e);case 6:a=t.sent,c({movie:n,cast:a}),l(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(K.jsx)(K.Fragment,{children:o?Object(K.jsxs)("div",{className:he.a.movie,children:[Object(K.jsx)(be,{movie:r.movie}),Object(K.jsx)(fe,{cast:r.cast})]}):Object(K.jsx)(ae,{})})},xe=function(e){var t=e.user,n=e.isFriend,a=Object(i.b)(),r=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.addFriend(t._id);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsx)(H.a,{className:"mb-4",children:Object(K.jsxs)(Q.a,{className:"border-0",children:[Object(K.jsxs)(Q.a.Body,{children:[Object(K.jsx)(Q.a.Title,{className:"fs-3 fw-bold",children:t.username}),Object(K.jsxs)(Q.a.Text,{className:"fst-normal",children:["Email: ",t.email]}),Object(K.jsxs)(Q.a.Text,{className:"fst-normal",children:["Age: ",t.age]})]}),Object(K.jsx)(Q.a.Footer,{className:"d-flex flex-column",children:n?Object(K.jsx)(Z.a,{className:"btn-danger mb-2",onClick:function(){var e;a((e=t._id,function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.removeFriend(e);case 2:a=t.sent,n(z(a.data.users));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Remove Friend"}):Object(K.jsx)(Z.a,{className:"btn-warning mb-2",onClick:r,children:"Add to Friend"})})]})})},ge=function(e){var t=e.users,n=e.isFriend;return Object(K.jsx)(Y.a,{xs:1,sm:2,md:3,children:t.map((function(e){return Object(K.jsx)(xe,{user:e,isFriend:n},e._id)}))})},Ne=function(){var e=Object(i.c)((function(e){return e.allUsers})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.next=3,N.getFriends();case 3:n=e.sent,t((a=n.data.findUsers,{type:A,payload:a})),t(q(!1));case 6:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(K.jsx)("div",{children:t?Object(K.jsx)(ae,{}):e.length?Object(K.jsx)(ge,{users:e,isFriend:!1}):Object(K.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})})},ye=function(){var e=Object(i.c)((function(e){return e.userFriends})),t=Object(i.c)((function(e){return e.isLoading})),n=Object(i.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.next=3,N.getUserFriends();case 3:n=e.sent,t(z(n.data.users)),t(q(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(K.jsx)("div",{children:t?Object(K.jsx)(ae,{}):e.length?Object(K.jsx)(ge,{users:e,isFriend:!0}):Object(K.jsx)("h1",{className:"text-center text-white mt-3",children:"Not Found"})})},we=[{path:"/about/:id",component:ve,exact:!0},{path:"/favorite",component:re,exact:!0},{path:"/profile",component:le,exact:!0},{path:"/movies",component:oe,exact:!0},{path:"/users",component:Ne,exact:!0},{path:"/friends",component:ye,exact:!0}],_e=[{path:"/signup",component:function(){var e=Object(u.g)(),t=Object(a.useState)(!1),n=Object(V.a)(t,2),r=n[0],c=n[1],o=Object(a.useRef)(),l=Object(a.useRef)(),j=Object(a.useRef)(),d=Object(a.useRef)(),b=Object(i.c)((function(e){return e.message})),O=Object(i.b)();return Object(K.jsxs)(Q.a,{className:"mx-auto",style:{maxWidth:"400px"},children:[Object(K.jsxs)(Q.a.Body,{children:[Object(K.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),Object(K.jsxs)(ue.a,{onSubmit:function(t){var n,a,r,s;t.preventDefault(),c(!1),O((n=o.current.value,a=l.current.value,r=j.current.value,s=d.current.value,function(e){return x.register(n,a,r,s).then((function(t){return e({type:y}),e(G(t.data.message)),Promise.resolve()}),(function(t){var n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:w}),e(G(n)),Promise.reject()}))})).then((function(){c(!0),setTimeout((function(){e.push("/login")}),1e3)})).catch((function(){c(!1)}))},children:[!r&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(ue.a.Group,{id:"userName",children:[Object(K.jsx)(ue.a.Label,{children:"User Name"}),Object(K.jsx)(ue.a.Control,{type:"text",ref:o,required:!0})]}),Object(K.jsxs)(ue.a.Group,{id:"age",children:[Object(K.jsx)(ue.a.Label,{children:"Your Age"}),Object(K.jsx)(ue.a.Control,{type:"number",ref:l,required:!0})]}),Object(K.jsxs)(ue.a.Group,{id:"email",children:[Object(K.jsx)(ue.a.Label,{children:"Email"}),Object(K.jsx)(ue.a.Control,{type:"email",ref:j,required:!0})]}),Object(K.jsxs)(ue.a.Group,{id:"password",children:[Object(K.jsx)(ue.a.Label,{children:"Password"}),Object(K.jsx)(ue.a.Control,{type:"password",ref:d,required:!0})]}),Object(K.jsx)(Z.a,{type:"submit",className:"w-100 mt-3",children:"Sign Up"})]}),b&&Object(K.jsx)("div",{className:"form-group",children:Object(K.jsx)("div",{className:r?"alert alert-success":"alert alert-danger",role:"alert",children:b})})]})]}),Object(K.jsxs)(Q.a.Footer,{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(K.jsx)(s.c,{to:"/login",children:"Log in"})]})]})},exact:!0},{path:"/login",component:function(){var e=Object(a.useRef)(!1),t=Object(u.g)(),n=Object(a.useState)(!1),r=Object(V.a)(n,2),c=r[0],o=r[1],l=Object(a.useRef)(),j=Object(a.useRef)(),d=Object(i.c)((function(e){return e.message})),b=Object(i.b)();Object(a.useEffect)((function(){return function(){e.current=!0}}),[]);return Object(K.jsxs)(Q.a,{className:"mx-auto",style:{maxWidth:"400px"},children:[Object(K.jsxs)(Q.a.Body,{children:[Object(K.jsx)("h2",{className:"text-center mb-4",children:"Login"}),Object(K.jsxs)(ue.a,{onSubmit:function(n){var a,r;n.preventDefault(),o(!1),b((a=l.current.value,r=j.current.value,function(e){return x.login(a,r).then((function(t){return e({type:_,payload:{user:t.user}}),Promise.resolve()}),(function(t){var n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:L}),e(G(n)),Promise.reject()}))})).then((function(){e.current||(o(!0),setTimeout((function(){t.push("/movies")}),1e3))})).catch((function(){e.current||o(!1)}))},children:[!c&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(ue.a.Group,{id:"email",children:[Object(K.jsx)(ue.a.Label,{children:"Email"}),Object(K.jsx)(ue.a.Control,{type:"email",ref:l,required:!0})]}),Object(K.jsxs)(ue.a.Group,{id:"password",children:[Object(K.jsx)(ue.a.Label,{children:"Password"}),Object(K.jsx)(ue.a.Control,{type:"password",ref:j,required:!0})]}),Object(K.jsx)(Z.a,{type:"submit",className:"w-100 mt-3",children:"Login"})]}),d&&Object(K.jsx)("div",{className:"form-group",children:Object(K.jsx)("div",{className:c?"alert alert-success":"alert alert-danger",role:"alert",children:d})})]})]}),Object(K.jsxs)(Q.a.Footer,{className:"w-100 text-center mt-2",children:["Don't have an account yet? ",Object(K.jsx)(s.c,{to:"/signup",children:" Register now"})]})]})},exact:!0}],Le=n(12),Se=n.n(Le),Fe=function(){var e=Object(i.b)(),t=Object(u.h)(),n=Object(u.f)(t.pathname,{path:"/about/:id",exact:!0});return Object(K.jsx)(o.a,{children:Object(K.jsxs)("nav",{className:Se.a.nav,children:[Object(K.jsx)(s.c,{to:"/movies",className:Se.a.navLogo,children:"Stream-Movies"}),Object(K.jsxs)("ul",{className:Se.a.navBar,children:[Object(K.jsx)("li",{className:n?Se.a.visible:Se.a.hidden,children:Object(K.jsx)(s.c,{to:t.pathname,className:Se.a.navLink,activeClassName:Se.a.active,children:"About"})}),Object(K.jsx)("li",{children:Object(K.jsx)(s.c,{to:"/movies",className:Se.a.navLink,activeClassName:Se.a.active,children:"All Movies"})}),Object(K.jsx)("li",{children:Object(K.jsx)(s.c,{to:"/favorite",className:Se.a.navLink,activeClassName:Se.a.active,children:"Favorite"})}),Object(K.jsx)("li",{children:Object(K.jsx)(s.c,{to:"/users",className:Se.a.navLink,activeClassName:Se.a.active,children:"Users"})}),Object(K.jsx)("li",{children:Object(K.jsx)(s.c,{to:"/friends",className:Se.a.navLink,activeClassName:Se.a.active,children:"Friends"})}),Object(K.jsx)("li",{children:Object(K.jsx)(s.c,{to:"/profile",className:Se.a.navLink,activeClassName:Se.a.active,children:"Profile"})}),Object(K.jsx)("li",{children:Object(K.jsx)(s.c,{to:"/login",className:Se.a.navLink,activeClassName:Se.a.active,onClick:function(){e((function(e){x.logout(),e(R()),e({type:S})}))},children:"Log Out"})})]})]})})},Ce=n(54),ke=n.n(Ce),Ee=function(){return Object(K.jsx)("header",{className:ke.a.header,children:Object(K.jsx)(Fe,{})})},Me=function(){var e=Object(i.c)((function(e){return e.isLoggedIn})),t=Object(u.g)(),n=Object(i.b)();return Object(a.useEffect)((function(){t.listen((function(e){n(R())}))}),[n]),e?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Ee,{}),Object(K.jsx)(o.a,{className:"mt-4",children:Object(K.jsxs)(u.d,{children:[we.map((function(e){return Object(K.jsx)(u.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(K.jsx)(u.a,{to:"/movies"})]})})]}):Object(K.jsx)("div",{className:"pt-5",children:Object(K.jsxs)(u.d,{children:[_e.map((function(e){return Object(K.jsx)(u.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(K.jsx)(u.a,{to:"/signup"})]})})},Ie=n(36),Ae=n(55),Ue=Object(Ie.b)(J,Object(Ie.a)(Ae.a)),Pe=function(){return Object(K.jsx)(i.a,{store:Ue,children:Object(K.jsx)(s.a,{children:Object(K.jsx)(Me,{})})})};n(90);c.a.render(Object(K.jsx)(Pe,{}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.a2d2122b.chunk.js.map